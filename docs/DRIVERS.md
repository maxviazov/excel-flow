# Справочник водителей

## Описание

Модуль автоматически назначает водителей в отчет на основе кода города доставки.

## Файл данных

**Путь**: `testdata/drivers_summary.xlsx`

**Структура**:
| Колонка | Описание | Пример |
|---------|----------|--------|
| driver | Имя водителя | פבל ולר |
| lisence_number | Номер автомобиля | 69-570-202 |
| phone_number | Телефон водителя | 054-6411914 |
| list(code_town) | Коды городов | ['I400', 'N126', 'F1012'] |

## Как работает

1. При запуске приложение загружает справочник водителей из `testdata/drivers_summary.xlsx`
2. Водители индексируются по кодам городов
3. При формировании отчета для каждой строки:
   - Берется код города клиента
   - Случайным образом выбирается водитель, который ездит в этот город
   - В отчет добавляются: номер авто, имя водителя, телефон

## Пример

Для клиента с кодом города `I400`:
- Может быть назначен водитель: **פבל ולר**
- Номер авто: **69-570-202**
- Телефон: **054-6411914**

## Обработка ошибок

- Если файл `drivers_summary.xlsx` не найден - отчет формируется без водителей
- Если для кода города нет водителей - поля остаются пустыми
- Коды городов нечувствительны к регистру (I400 = i400)

## API

### LoadFromExcel
```go
registry, err := drivers.LoadFromExcel("testdata/drivers_summary.xlsx")
```

### GetRandomDriverForCity
```go
driver := registry.GetRandomDriverForCity("I400")
if driver != nil {
    fmt.Println(driver.Name, driver.LicenseNumber, driver.Phone)
}
```

## Тестирование

```bash
go test ./internal/drivers/
```

Тесты проверяют:
- ✅ Загрузку справочника из Excel
- ✅ Индексацию по кодам городов
- ✅ Получение случайного водителя для города
- ✅ Обработку несуществующих кодов городов
