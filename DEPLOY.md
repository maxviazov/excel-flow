# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é Excel Flow –Ω–∞ AWS

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ RTL** - Excel —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ
2. ‚úÖ **–°–æ–∑–¥–∞–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ø—Ä–æ—Å—Ç–æ–π UI –Ω–∞ –∏–≤—Ä–∏—Ç–µ —Å drag-and-drop
3. ‚úÖ **HTTP API —Å–µ—Ä–≤–µ—Ä** - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±
4. ‚úÖ **Dockerfile** - –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
5. ‚úÖ **Terraform** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ AWS

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ
go run cmd/server/main.go

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open http://localhost:8080
```

## –î–µ–ø–ª–æ–π –Ω–∞ AWS

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. AWS CLI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`aws configure`)
2. Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. Terraform —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
4. –î–æ–º–µ–Ω viazov.dev –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Route53

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å Zone ID –¥–ª—è Route53

```bash
aws route53 list-hosted-zones
```

–ù–∞–π–¥–∏ Zone ID –¥–ª—è viazov.dev

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```bash
cd terraform
cp terraform.tfvars.example terraform.tfvars
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `terraform.tfvars`:
```hcl
aws_region       = "us-east-1"
domain_name      = "excel.viazov.dev"  # –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ viazov.dev
route53_zone_id  = "Z0123456789ABC"    # —Ç–≤–æ–π Zone ID
```

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
./deploy.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–µ—Ä–µ—Ç Docker –æ–±—Ä–∞–∑
- –ó–∞–≥—Ä—É–∑–∏—Ç –≤ ECR
- –†–∞–∑–≤–µ—Ä–Ω–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ Terraform
- –ù–∞—Å—Ç—Ä–æ–∏—Ç HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- –°–æ–∑–¥–∞—Å—Ç Route53 –∑–∞–ø–∏—Å—å

### –®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Terraform, –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:

1. –ó–∞–π–¥–∏ –≤ AWS Console ‚Üí Certificate Manager
2. –ù–∞–π–¥–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è —Ç–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞
3. –°–∫–æ–ø–∏—Ä—É–π CNAME –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
4. –î–æ–±–∞–≤—å –∏—Ö –≤ Route53 (–∏–ª–∏ Terraform —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å

```bash
# –ü–æ–ª—É—á–∏—Ç—å URL –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞
cd terraform
terraform output alb_dns

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
curl https://excel.viazov.dev
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Internet
   ‚Üì
Route53 (viazov.dev)
   ‚Üì
Application Load Balancer (HTTPS)
   ‚Üì
ECS Fargate (Go —Å–µ—Ä–≤–µ—Ä)
   ‚Üì
ECR (Docker –æ–±—Ä–∞–∑)
```

## –°—Ç–æ–∏–º–æ—Å—Ç—å (–ø—Ä–∏–º–µ—Ä–Ω–æ)

- **Fargate**: ~$15/–º–µ—Å—è—Ü (256 CPU, 512 MB RAM)
- **ALB**: ~$16/–º–µ—Å—è—Ü
- **Route53**: $0.50/–º–µ—Å—è—Ü
- **ECR**: ~$1/–º–µ—Å—è—Ü

**–ò—Ç–æ–≥–æ**: ~$32-35/–º–µ—Å—è—Ü

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å
./deploy.sh
```

## –û—Ç–∫–∞—Ç

```bash
cd terraform
terraform destroy
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å DNS –∑–∞–ø–∏—Å–∏:
```bash
dig excel.viazov.dev
```

### –ü—Ä–æ–±–ª–µ–º–∞: ECS –∑–∞–¥–∞—á–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:
```bash
aws logs tail /ecs/excel-flow --follow
```

### –ü—Ä–æ–±–ª–µ–º–∞: 502 Bad Gateway

–ü—Ä–æ–≤–µ—Ä—å health check:
```bash
aws elbv2 describe-target-health --target-group-arn <ARN>
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –±–µ–∑ –¥–æ–º–µ–Ω–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —à–µ—Ñ—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞:

```bash
# –¢–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ Route53
cd terraform
terraform apply -target=aws_lb.main -target=aws_ecs_service.app

# –ü–æ–ª—É—á–∏—Ç—å URL
terraform output alb_dns
# –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç URL: http://excel-flow-alb-123456789.us-east-1.elb.amazonaws.com
```

## –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å —à–µ—Ñ—É

1. –û—Ç–∫—Ä—ã—Ç—å https://excel.viazov.dev (–∏–ª–∏ ALB URL)
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å Excel —Ñ–∞–π–ª (drag-and-drop)
3. –ù–∞–∂–∞—Ç—å "◊î◊™◊ó◊ú ◊¢◊ô◊ë◊ï◊ì"
4. –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞
5. –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–æ/–ø–æ—Å–ª–µ)
6. –°–∫–∞—á–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª
7. –û—Ç–∫—Ä—ã—Ç—å –≤ Excel - –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ RTL —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

–£–¥–∞—á–∏ —Å –¥–µ–º–æ! üöÄ
